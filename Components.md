#Broker

Αφού ο χρήστης τρέξει τον `broker` με σωστά ορίσματα, το πρόγραμμα επιχειρεί να δεσμεύσει
τις πόρτες από τις οποίες δέχεται `subscribers` και `publishers` αντίστοιχα, εκτυπώνοντας
μήνυμα σε περίπτωση που δεν επιτύχει. Στη συνέχεια, δημιουργούνται δυο threads, ένα για τους
`subscribers` και ένα για τους `publishers` τα οποία παραμένουν blocked στην αντίστοιχη πόρτα
περιμένοντας επ' άπειρον για νέες συνδέσεις, ενώ το main thread είναι και αυτό blocked περιμένοντας
τον τερματισμό των "worker threads". Σε κάθε νέα σύνδεση, είτε `publisher` είτε `subscriber`,
δημιουργείται νέο thread το οποίο περιμένει σε blocked state για μηνύματα του client τον οποίον
εξυπηρετεί, εκτελώντας τις εισερχόμενες του εντολές. Όταν λάβει το μήνυμα `CLIENT_ID exit`
τότε φροντίζει να κλείσει το connection του client και να αποδεσμεύσει τους πόρους που
είχαν διατεθεί για αυτόν.

Χρησιμοποιούνται 4 δομές, 1 `HashMap<String, Set<String>>` που αντιστοιχεί τα `topics` με
τους `subscribers` που τα ακολουθούν και 3 `Set<String>` που κρατάνε όλους τους `clients`,
`subscribers` και `publishers` αντίστοιχα ώστε να μπορούν να αποδεσμευτούν οι πόροι τους
όταν αυτό χρειάζεται καθώς και για την ορθή μετάδοση των μηνυμάτων. Για τα `read/writes`
operation αυτών των δομών από τα threads πραγματοποιείται συγχρονισμός για την αποφυγή
παράλληλης επεξεργασίας τους.

#Publisher

Αφού ο χρήστης τρέξει τον `publisher` με σωστά ορίσματα, το πρόγραμμα επιχειρεί να συνδεθεί
με την ip και την πόρτα του `broker`, εκτυπώνοντας μήνυμα σε περίπτωση που δεν επιτύχει.
Στη συνέχεια και εφόσον έχει δοθεί από τον χρήστη το όρισμα `-f cmd_file` ο `publisher` 
στέλνει στον `broker` μία-μία τις εντολές του αρχείου, κάνοντας πρώτα validation και εκτυπώνοντας
μήνυμα στην περίπτωση μη-έγκυρης εντολής. Τέλος, το κύριο thread του προγράμματος βρίσκεται σε blocked
state περιμένοντας επ' άπειρον να διαβάσει από το `command line` εντολές του χρήστη και στη συνέχεια
να τις μεταδώσει στον `broker`.

#Subscriber

Αφού ο χρήστης τρέξει τον `subscriber` με σωστά ορίσματα, το πρόγραμμα επιχειρεί να συνδεθεί
με την ip και την πόρτα του `broker`, εκτυπώνοντας μήνυμα σε περίπτωση που δεν επιτύχει.
Στη συνέχεια και εφόσον έχει δοθεί από τον χρήστη το όρισμα `-f cmd_file` ο `subscriber` στέλνει στον `broker`
μία-μία τις εντολές του αρχείου, κάνοντας πρώτα validation και εκτυπώνοντας μήνυμα στην περίπτωση μη-έγκυρης
εντολής. Αφού σταλούν όσες εντολές υπάρχουν στο `cmd_file` το κύριο thread του προγράμματος βρίσκεται σε blocked
state περιμένοντας επ' άπειρον να διαβάσει από το `command line` εντολές του χρήστη ενώ παράλληλα ένα "worker-thread"
βρίσκεται blocked και περιμένει να διαβάσει μηνύματα που στέλνονται από τον `broker`. Αυτή η σχεδιαστική επιλογή
έγινε ούτως ώστε να μην υπάρχουν 2 threads (main-worker) που προσπαθούν να διαβάσουν μηνύματα από τον `broker`
(μηνύματα απαντήσεις: `ΟΚ` - μηνύματα topics: `TOPIC MESSAGE`).


##Notes

Σε όλα τα προγράμματα, προτού εκτελεστεί οποιαδήποτε ενέργεια γίνεται πρώτα έλεγχος
για την ορθότητα των ορισμάτων που δόθηκαν από τον χρήστη και εκτυπώνονται κατάλληλα μηνύματα.
Παράλληλα, υπάρχουν handlers που αναλαμβάνουν την αποδέσμευση των ports που χρησιμοποιήθηκαν
ώστε οι ίδιες πόρτες να μπορούν να χρησιμοποιηθούν από νέα processes. (Πρέπει να λάβουμε υπόψιν μας
το timeout που επιβάλλεται από το TCP/IP πρωτόκολλο, οι πόρτες αποδεσμεύονται ύστερα από ένα
μικρό χρονικό διάστημα για λόγους ασφαλείας)

###Assumptions

1) Δεν μπορούν να τρέξουν περισσότεροι από 1 `subscriber` με το ίδιο id παράλληλα
2) Ο `broker` πρέπει να είναι ενεργός προτού δημιουργηθούν `subscriber/publisher`
3) Οι `subscribers` μπορούν να διαχειριστούν topic messages ενώ βρίσκονται στη φάση
ανάγνωσης εντολών από το `cmd_file`
